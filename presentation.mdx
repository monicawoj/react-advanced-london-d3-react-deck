import { Appear, Notes, Image } from "mdx-deck";
import {
  Split,
  SplitRight,
  FullScreenCode,
  Horizontal
} from "mdx-deck/layouts";
import { CodeSurfer } from "mdx-deck-code-surfer";
import { book } from "mdx-deck/themes";
import nightOwl from "prism-react-renderer/themes/nightOwl";

import Disappear from "components/deck/Disappear";
import CodeSurferContainer from "components/deck/CodeSurferContainer";
import ChartContainer from "components/BarChart/ChartContainer";
import ColorLoopingText from "components/deck/ColorLoopingText";
import RotateLoopingText from "components/deck/RotateLoopingText";
import Footer from "components/deck/Footer";

import { colors } from "components/deck/theme";

export const theme = {
  ...book,
  codeSurfer: { ...nightOwl, showNumbers: false }
};

<div style={{ fontSize: "1.5em", position: "relative", bottom: "-20%" }}>
  <RotateLoopingText>
    <h1 className="title">Hooked on D3</h1>
  </RotateLoopingText>
  <h2>
    Creating <ColorLoopingText>Animated</ColorLoopingText> Ch(art)s with D3
    and React Hooks
  </h2>
</div>
<div
  style={{
    backgroundImage: `url(${require("file-loader!./images/fishing-hook.svg")})`,
    backgroundSize: "contain",
    position: "absolute",
    width: "40vw",
    height: "50vh",
    top: "90px",
    left: "355px",
    backgroundPosition: "center",
    backgroundRepeat: "no-repeat"
  }}
/>

<Footer />

<Notes>

- today I'm excited to be talking to you about ()
- but first a little bit about myself

</Notes>

---

export default Split;

<div
  style={{
    height: "100vh",
    display: "flex",
    flexDirection: "column",
    alignItems: "center",
    justifyContent: "flex-start"
  }}
>
  <h1 style={{ fontSize: "3em" }}>
    Hi, I'm Monica!
  </h1>
  <div
    style={{
      backgroundImage: `url(${require("file-loader!./images/monica_snow.jpg")})`,
      backgroundSize: "contain",
      width: "50vw",
      height: "70vh",
      position: "fixed",
      top: "25%",
      backgroundPosition: "center",
      backgroundRepeat: "no-repeat"
    }}
  />
</div>

<Appear>
  <h1>American 🇺🇸 / Polish 🇵🇱</h1>
  <div style={{ width: "40%" }}>
    <img
      src={require("file-loader!./images/netguru.svg")}
    />
  </div>
  <h1>Outdoors enthusiast 🌲 🏔️ </h1>
  <h1>Lifelong learner 🥊 🧗‍♀️ 🏄‍♀️ ... 🖥️ </h1>
  <div
    style={{
      backgroundImage: `url(${require("file-loader!./images/monica_canyoning.jpg")})`,
      backgroundSize: "contain",
      width: "50vw",
      height: "70vh",
      position: "fixed",
      top: "25%",
      transform: "translateX(-50vw)",
      backgroundPosition: "center",
      backgroundRepeat: "no-repeat"
    }}
  />
  <div
    style={{
      backgroundImage: `url(${require("file-loader!./images/monica_surfing.jpg")})`,
      backgroundSize: "contain",
      width: "50vw",
      height: "70vh",
      position: "absolute",
      top: "25%",
      transform: "translateX(-50vw)",
      backgroundPosition: "center",
      backgroundRepeat: "no-repeat"
    }}
  />
  <div
    style={{
      background: "#fffceb",
      backgroundSize: "contain",
      width: "50vw",
      height: "75vh",
      position: "absolute",
      top: "24%",
      transform: "translateX(-50vw)",
      display: "flex",
      alignItems: "center",
      justifyContent: "center",
      fontSize: "300px"
    }}
  >
    👩‍💻
  </div>
</Appear>

<Notes>

- dual-US and Polish citizen
- born and raised in NJ, but living in Poland for the past year and a half
- frontend dev at netguru
- ...sorry no cool pictures of me sitting in front of a computer coding

</Notes>

---

<div style={{ backgroundImage: `url(./images/boring_chart.gif)`,
    backgroundSize: 'contain',
    width: '40vw',
    height: '40vh',
    backgroundPosition: 'center',
    backgroundRepeat: 'no-repeat'}} />
  
<Appear>
  <h1 style={{ textAlign: 'center'}}>There has to be a better way</h1>
</Appear>

<Notes>

- my journey with programming began in college when I was a research assistant tasked with showing some data..
- I thought, there has to be something better than this...

</Notes>

---

<div
  style={{
    backgroundImage: `url(${require("file-loader!./images/d3_gallery.png")})`,
    backgroundSize: "cover",
    width: "100vw",
    height: "100vh",
    backgroundPosition: "center",
    backgroundRepeat: "no-repeat"
  }}
/>

<Notes>

- and there was!
- luckily I was thinking out loud and happened to have a computer science roommate who pointed me in the direction of this site
- since then, I've been hooked on D3... and today I'm hooked on D3 and React together :)

</Notes>

---

<div
  style={{
    fontSize: "2em",
    width: "100vw",
    height: "100vh"
  }}
>
  <div
    style={{
      backgroundImage: `url(${require("file-loader!./images/React-icon.png")})`,
      backgroundSize: "contain",
      width: "auto",
      height: "200px",
      backgroundPosition: "center",
      backgroundRepeat: "no-repeat",
      margin: "0.67em"
    }}
  />
  <Appear>
    <div
      style={{
        backgroundImage: `url(${require("file-loader!./images/d3-icon.png")})`,
        backgroundSize: "contain",
        width: "auto",
        height: "200px",
        backgroundPosition: "center",
        backgroundRepeat: "no-repeat",
        margin: "0.67em"
      }}
    />
    <h1 style={{ textAlign: "center" }}>
      👨‍🍳 🍳 👩‍🍳
    </h1>
    <h1 style={{ textAlign: "center" }}>?</h1>
  </Appear>
</div>

<Notes>

- so today, I want to chat about React and the data visualization lib D3, but also...
- And today, other than talking to you about code, I’ll be sharing some secrets of the art of cooking at a 5-star restaurant…
- So keep that in mind

</Notes>

---

import BoldingText from "components/deck/BoldingText";

<BoldingText />

<Notes>

- But before we jump right into what the title of this presentation promised, “Creating Animated Ch(art)s with D3 and React hooks”, I think we need to take a step back and focus on one word: Animated
- So what is animation but...

</Notes>

---

<h1>
  <Disappear
    elementsToAppear={[
      <span>
        <strike>Time and Change</strike> Change /
        Time
      </span>
    ]}
    elementsToRemove={[
      <span>Time and Change</span>
    ]}
  />
</h1>

<Notes>

- Time and Change = Transformation
- Actually Change / Time = Transformation

</Notes>

---

# Why animate?

<ul style={{ fontSize: "2em" }}>
  <Appear>
    <li>🔅 🔆 continuity</li>
    <li>🔄 action / reaction</li>
    <li>🕓 motion</li>
  </Appear>
</ul>

<Notes>

- provides a visual cue of continuity; it's one object
- A reaction to our action (communication of cause-and-effect)
- Motion: A clue that ‘something is happening’ (e.g. Loading component); relationship with time
- hopefully not just an empty loading component that would be bad
- should be at 5 min

</Notes>

---

import {
  Circles,
  AnimatedCircle
} from "components/Circle";

<h1>
  MORE information
  <Appear>
    <span>...but LESS to process at once</span>
  </Appear>
</h1>

<div
  style={{
    display: "flex",
    flexDirection: "column",
    alignItems: "center"
  }}
>
  <Circles />
</div>

<Appear>
  <div>
    <AnimatedCircle />
  </div>
</Appear>

<Notes>

- MORE INFORMATION (not just the snapshots of reality, but their collection)
- …but LESS TO PROCESS AT ONE TIME (our eye then only needs to follow one piece of information, not two simultaneously
- It hints that the takeaway is not in each single frame, but in the space between them. In their relation to one another.

</Notes>

---

# Animation in charts?

<Notes>

- so then how does this apply to data visualization?

</Notes>

---

<h2></h2>

<div
  style={{
    width: "100vw",
    height: "80vh",
    position: "relative"
  }}
>
  <div
    style={{
      position: "absolute",
      width: "100%",
      height: "100%",
      backgroundSize: "cover",
      backgroundImage: `url(${require("file-loader!./images/chefs_and_spices.jpg")})`
    }}
  />
  <div
    style={{
      position: "absolute",
      background: "#fffceb",
      width: "30%",
      height: "100vh"
    }}
  />
  <div
    style={{
      position: "absolute",
      background: "#fffceb",
      width: "30%",
      height: "100vh",
      left: "70%"
    }}
  />
</div>

<Notes>

- salt and spices represent two different approaches to animation in data visualization.
- And just like a balance of salt and spices wins out in the long run in terms of cooking, this balance is a winner when it comes to ‘when and how to animate charts’ as well
- What do I mean?
- Salt enhances the underlying elements, but it does not overshadow them
- Spices, change the flavor profile; they bring your senses to different features
- It’s actually a combo of salt and spices. We want to maintain focus (salt) and redirect focus (spices) in the appropriate manner.
- But the trick isn’t just to add salt and add spices, but to add them where they are applicable

</Notes>

---

## _When to add_ salt and spices?

<div
  style={{
    width: "100vw",
    height: "80vh",
    position: "relative"
  }}
>
  <div
    style={{
      position: "absolute",
      width: "100%",
      height: "100%",
      backgroundSize: "cover",
      backgroundImage: `url(${require("file-loader!./images/chefs_and_spices.jpg")})`
    }}
  />
  <div
    style={{
      position: "absolute",
      background: "#fffceb",
      width: "30%",
      height: "100vh"
    }}
  />
  <div
    style={{
      position: "absolute",
      background: "#fffceb",
      width: "30%",
      height: "100vh",
      left: "70%"
    }}
  />
  <Appear>
    <div
      style={{
        position: "absolute",
        width: "30%",
        top: "10%"
      }}
    >
      <ul>
        <li>
          <h1>A -> B </h1>
        </li>
      </ul>
    </div>
    <div
      style={{
        position: "absolute",
        width: "30%",
        left: "70%",
        top: "10%"
      }}
    >
      <ul>
        <li>
          <h1>
            a<sub>x</sub> -> a<sub>y</sub>
          </h1>
        </li>
      </ul>
    </div>
    <div
      style={{
        position: "absolute",
        width: "30%",
        left: "70%",
        top: "30%"
      }}
    >
      <ul>
        <li>
          <h1>a(t)</h1>
        </li>
      </ul>
    </div>
    <div
      style={{
        position: "absolute",
        width: "30%",
        top: "30%"
      }}
    >
      <ul>
        <li>
          <h1>aaa look here! 👀</h1>
        </li>
      </ul>
    </div>
  </Appear>
</div>

<Notes>

- A -> B: when dataset A is replaced by dataset B (entering and exiting, redirect)
- ai -> aj: but we an attribute of an element in dataset A changes, that is salt
- a(t): same thing goes for when a is a function of time; time series data
- aaa look here: direct redirection - animation as narration / storytelling / explanation
- should be at 9 min

</Notes>

---

## _How_ to add salt and spices?

<div
  style={{
    width: "100vw",
    height: "80vh",
    position: "relative"
  }}
>
  <Disappear
    elementsToKeep={[
      <div
        style={{
          position: "absolute",
          width: "100%",
          height: "100%",
          backgroundSize: "cover",
          backgroundImage: `url(${require("file-loader!./images/chefs_and_spices.jpg")})`
        }}
      />
    ]}
    elementsToRemove={[
      <div>
        <div
          style={{
            position: "absolute",
            background: "#fffceb",
            width: "30%",
            height: "100vh"
          }}
        />
        <div
          style={{
            position: "absolute",
            background: "#fffceb",
            width: "30%",
            height: "100vh",
            left: "70%"
          }}
        />
      </div>
    ]}
  />
</div>

<Notes>

- aka. how to add animation to data visualisations
- So now we understand that animation can add a lot to a visualization, which is great, but it would probably be helpful to know how to implement this as well ;)
- We talked about spices and salt, so let’s take a look at who would be adding those to a dish:
- this is where our chefs come in!

</Notes>

---

# Two cooks 👨‍🍳 👨‍🍳

<Appear>
  <h1>...one kitchen.</h1>
</Appear>

<Notes>

- have you ever heard the saying, you can’t have two cooks in the kitchen?
- It makes sense right? How can you have one pot, one knife, one cutting board, one set of ingredients, and expect two cooks to create a dish?
- This is exactly what we have: two cooks (React and D3)
- that both want to be in control of one kitchen (DOM - React Virtual Dom)
- ...so the issue here is about DOM management
- There are three ways this situation could play out:

</Notes>

---

export default Split;

<div
  style={{
    marginLeft: "2em",
    fontSize: "1.5em"
  }}
>
  <h2>Option 1:</h2>
  <h1>Cook #1 takes control</h1>
</div>

<div
  style={{
    position: "absolute",
    width: "40%",
    height: "50%",
    top: "25%",
    backgroundSize: "contain",
    backgroundImage: `url(${require("file-loader!./images/react_with_hat.png")})`,
    backgroundPosition: "center",
    backgroundRepeat: "no-repeat"
  }}
/>

<Notes></Notes>

---

import BarChartReactControl from "components/BarChart/BarChartReactControl";

export default Split;

<div style={{ width: "50vw" }}>
  <CodeSurferContainer percent>
    <CodeSurfer
      title="Bar Chart ala Cook #1 (React)"
      code={
        require("!raw-loader!components/BarChart/BarChartReactControl.js")
          .default
      }
      lang="javascript"
      showNumbers={false}
      dark={true}
      steps={[
        { notes: "" },
        {
          range: [4, 13],
          notes:
            "start with setup (dimensions, data, scales)"
        },
        {
          range: [15, 25],
          notes: "map data to elements with attrs"
        },
        {
          range: [27, 32],
          notes:
            "render elements in SVG container"
        }
      ]}
    />
  </CodeSurferContainer>
</div>

<ChartContainer
  renderChart={data => (
    <BarChartReactControl
      data={data}
      width={400}
      height={400}
    />
  )}
/>

<Notes>

- this is the classic React that we know and love, but by just using D3 as a utility library we miss out on the animation magic

</Notes>

---

export default Split;

<div
  style={{
    marginLeft: "2em",
    fontSize: "1.5em"
  }}
>
  <h2>Option 2:</h2>
  <h1>Cook #2 takes control</h1>
</div>

<div
  style={{
    position: "absolute",
    width: "40%",
    height: "50%",
    top: "25%",
    backgroundSize: "contain",
    backgroundImage: `url(${require("file-loader!./images/d3_with_hat.png")})`,
    backgroundPosition: "center",
    backgroundRepeat: "no-repeat"
  }}
/>

<Notes>

- so we want the transition power of D3..
- the next option is for D3 to take control of the DOM
- here D3 creates, appends, and edits elements
- it does the entering, updating, and exiting
- this method is a bit more involved

</Notes>

---

import BarChartD3Control from "components/BarChart/BarChartD3Control";

export default Split;

<div style={{ width: "50vw" }}>
  <CodeSurferContainer percent>
    <CodeSurfer
      title="Bar Chart ala Cook #2 (D3)"
      code={
        require("!raw-loader!components/BarChart/BarChartD3Control.js")
          .default
      }
      lang="javascript"
      showNumbers={false}
      dark={true}
      fontSize={"19px"}
      steps={[
        { notes: "" },
        { lines: [6, 10, 14, 49] },
        {
          range: [49, 58],
          notes:
            "just render svg container with ref"
        },
        { range: [14, 47] },
        {
          range: [16, 25],
          notes: "define scales based on data"
        },
        {
          range: [27, 31],
          notes:
            "create selector and attach data to it"
        },
        {
          range: [33, 44],
          notes:
            "populate selected spaces with svg elements"
        },
        {
          range: [46, 47],
          notes:
            "remove bars that are no longer needed"
        },
        {
          range: [5, 12],
          notes:
            "run draw() on mount and props update"
        }
      ]}
    />
  </CodeSurferContainer>
</div>

<ChartContainer
  renderChart={data => (
    <BarChartD3Control
      data={data}
      width={400}
      height={400}
    />
  )}
/>

---

export default Split;

<div
  style={{
    marginLeft: "2em",
    fontSize: "1.5em"
  }}
>
  <h2>Option 3:</h2>
  <h1>Cook #1 and Cook #2 share control</h1>
</div>

<div
  style={{
    display: "flex",
    justifyContent: "center",
    alignItems: "center",
    height: "100vh"
  }}
>
  <div
    style={{
      width: "40%",
      height: "50%",
      backgroundSize: "contain",
      backgroundImage: `url(${require("file-loader!./images/react_with_hat.png")})`,
      backgroundPosition: "center",
      backgroundRepeat: "no-repeat"
    }}
  />
  <div
    style={{
      width: "40%",
      height: "50%",
      backgroundSize: "contain",
      backgroundImage: `url(${require("file-loader!./images/d3_with_hat.png")})`,
      backgroundPosition: "center",
      backgroundRepeat: "no-repeat"
    }}
  />
</div>

<Notes>

- React (cook1) preps the ingredients and the pot, D3 (cook2) puts everything in its place and flavors it (styles)
- this is rather similar to the option before, but here we're creating elements with React, not D3
- React creates elements, D3 styles

</Notes>

---

import BarChartShareControl from "components/BarChart/BarChartShareControl";

export default Split;

<div style={{ width: "50vw" }}>
  <CodeSurferContainer percent>
    <CodeSurfer
      title="Bar Chart ala Cook #1 and Cook #2 (React + D3)"
      code={
        require("!raw-loader!components/BarChart/BarChartShareControl.js")
          .default
      }
      lang="javascript"
      showNumbers={false}
      dark={true}
      steps={[
        { notes: "" },
        { range: [5, 40] },
        { range: [38, 55] },
        { lines: [47, 48, 49, 50, 51, 53] },
        { lines: [42, 43, 44, 52] },
        { range: [13, 36] },
        {
          range: [14, 23],
          notes: "define scales"
        },
        {
          range: [25, 36],
          notes:
            "select elements and style/position"
        },
        {
          range: [5, 11],
          notes:
            "call draw() on mount and props update"
        }
      ]}
    />
  </CodeSurferContainer>
</div>

<ChartContainer
  renderChart={data => (
    <BarChartShareControl
      data={data}
      width={400}
      height={400}
    />
  )}
/>

---

export default Split;

<div
  style={{
    marginLeft: "2em",
    fontSize: "1.5em"
  }}
>
  <h2>Option 3 with Hooks:</h2>
  <h1>Chef and Sous Chef</h1>
</div>

<div
  style={{
    display: "flex",
    justifyContent: "center",
    alignItems: "center",
    height: "100vh"
  }}
>
  <Appear>
    <div
      style={{
        width: "40%",
        height: "50%",
        backgroundSize: "contain",
        backgroundImage: `url(${require("file-loader!./images/react_chef.png")})`,
        backgroundPosition: "center",
        backgroundRepeat: "no-repeat"
      }}
    />
    <div
      style={{
        width: "40%",
        height: "50%",
        backgroundSize: "contain",
        backgroundImage: `url(${require("file-loader!./images/d3_sous_chef.png")})`,
        backgroundPosition: "center",
        backgroundRepeat: "no-repeat"
      }}
    />
  </Appear>
</div>

<Notes>

- But there’s a difference between working together, and working together in an straightforward, predictable, organised manner:
- not Cook1 and Cook2 but chef and sous chef!
- They need clear communication in order to make their collaboration work. This is where React Hooks come in!
- The chef (React) tells the sous chef (D3) when it needs his/her help, and then gives it free reign to work it’s magic

</Notes>

---

import BarChartShareControlHooks from "components/BarChart/BarChartShareControlHooks";

export default Split;

<div style={{ width: "50vw" }}>
  <CodeSurferContainer percent>
    <CodeSurfer
      title="Bar Chart ala Chef (React) and Sous Chef (D3)"
      code={
        require("!raw-loader!components/BarChart/BarChartShareControlHooks.js")
          .default
      }
      lang="javascript"
      showNumbers={false}
      dark={true}
      steps={[
        { notes: "" },
        { lines: [1] },
        { range: [4, 49] },
        {
          lines: [9, 44],
          notes:
            "useRef to reference our svg container"
        },
        { range: [13, 35] },
        {
          lines: [25],
          notes:
            "select our referenced svg container"
        },
        {
          lines: [11],
          notes:
            "run draw() on mount and data update"
        }
      ]}
    />
  </CodeSurferContainer>
</div>

<ChartContainer
  renderChart={data => (
    <BarChartShareControlHooks
      data={data}
      width={400}
      height={400}
    />
  )}
/>

---

import App from "./components/App/App";

<App />

<Notes>

- and this pattern works for simple and complex alike
- for example with this chart - what I call the 'NonBoring Keyboard'
- the inspiration for this dish is the question ‘how come the keyboard is laid out the way it is?’
- ...Each key on my keyboard represents a bar/column in the chart
- ...When each key is hit, the bar grows and then falls again (to show that something is happening) and a point is added
- We can view the data in several ways (x and y axis changes)

</Notes>

---

<CodeSurferContainer>
  <CodeSurfer
    title="Not-boring KeyBoard ala Chef and Sous Chef"
    code={
      require("!raw-loader!components/NotBoringKeyboard/index.js")
        .default
    }
    lang="javascript"
    showNumbers={false}
    dark={true}
    steps={[
      { notes: "" },
      {
        lines: [17, 25, 26, 27, 28],
        notes: "Chef preps the pot"
      },
      {
        range: [259, 264],
        notes: "Chef preps the pot"
      },
      {
        lines: [23],
        notes: "Chef sets up the recipe"
      },
      {
        range: [31, 46],
        notes: "Chef defines proportions"
      },
      {
        range: [252, 255],
        notes: "Chef maps recipe to ingredients"
      },
      {
        range: [96, 114],
        notes:
          "Chef tells Sous Chef when he can step in"
      },
      {
        range: [128, 154],
        notes: "Sous Chef works his magic"
      },
      {
        range: [116, 120],
        notes:
          "Chef tells Sous chef what he wants him to do, when"
      },
      {
        range: [156, 164],
        notes:
          "And Sous Chef knows what to do in that case"
      }
    ]}
  />
</CodeSurferContainer>

<Notes>

- So let’s make it! to begin, we’re gonna let the chef set things up for us:
- React: sets up the recipe (useState for data)
- React: Gets the pot ready (sets up dimensions; creates SVG container)
- React: Maps the recipe elements to ingredients (create elem based on data)
- Chef tells the sous chef where and when he can take control (useRef - where, useEffect - when)
- And when it’s his time, the sous chef works his magic (draw function)

</Notes>

---

<App />

<Notes>

- and it works! wooo!

</Notes>

---

## Recap

<div
  style={{
    width: "100vw",
    height: "80vh",
    position: "relative"
  }}
>
  <Disappear
    elementsToKeep={[
      <div
        style={{
          position: "absolute",
          width: "100%",
          height: "80%",
          backgroundSize: "cover",
          backgroundImage: `url(${require("file-loader!./images/chefs_and_spices.jpg")})`
        }}
      />
    ]}
    elementsToRemove={[
      <div
        style={{
          width: "15%",
          height: "100%",
          background: "#fffceb",
          opacity: "0.5",
          position: "absolute",
          left: "55%"
        }}
      />,
      <div
        style={{
          width: "25%",
          height: "100%",
          background: "#fffceb",
          opacity: "0.5",
          position: "absolute",
          left: "30%"
        }}
      />,
      <div
        style={{
          width: "30%",
          height: "100%",
          opacity: "0.5",
          background: "#fffceb",
          position: "absolute",
          left: "0"
        }}
      />,
      <div
        style={{
          width: "30%",
          height: "100%",
          background: "#fffceb",
          opacity: "0.5",
          position: "absolute",
          left: "70%"
        }}
      />
    ]}
    elementsToAppear={[
      <div
        style={{
          width: "15%",
          height: "100%",
          position: "absolute",
          left: "55%",
          display: "flex",
          justifyContent: "center",
          alignItems: "flex-end",
          bottom: "9%"
        }}
      >
        <p style={{ margin: 0, fontSize: "2em" }}>
          a<sub>i</sub> ➡️ a<sub>j</sub>
        </p>
      </div>,
      <div
        style={{
          width: "25%",
          height: "100%",
          position: "absolute",
          left: "30%",
          display: "flex",
          justifyContent: "center",
          alignItems: "flex-end",
          bottom: "9%",
          fontSize: "2em"
        }}
      >
        {`A ➡️ B`}
      </div>,
      <div>
        <img
          src={require("file-loader!./images/React-icon.png")}
          width={"5%"}
          height={"10%"}
          style={{
            position: "absolute",
            left: "14%",
            top: "20%",
            background: "white",
            borderRadius: "10px",
            backgroundSize: "cover"
          }}
        />
        <div
          style={{
            width: "30%",
            height: "100%",
            position: "absolute",
            left: "0",
            display: "flex",
            justifyContent: "center",
            alignItems: "flex-end",
            bottom: "9%",
            fontSize: "1.7em"
          }}
        >
          useState, useRef, useEffect
        </div>
      </div>,
      <div>
        <img
          src={require("file-loader!./images/d3-icon.png")}
          width={"5%"}
          style={{
            position: "absolute",
            left: "78%",
            top: "18%",
            background: "white",
            borderRadius: "10px"
          }}
        />
        <div
          style={{
            width: "30%",
            height: "100%",
            position: "absolute",
            left: "70%",
            display: "flex",
            justifyContent: "center",
            alignItems: "flex-end",
            bottom: "9%"
          }}
        >
          <p
            style={{
              margin: 0,
              fontSize: "1.7em"
            }}
          >
            <i>function</i> update()
          </p>
        </div>
      </div>
    ]}
  />
</div>

<Notes>

- add salt and spices (animation) when the dish calls for each
- 'Salt' animation 🧂: for changes within _piece of data_ (e.g, same 'key', different value)
- 'Spices' animation 🌶️: for changes within _dataset_ / redirecting focus, (e.g, something added or removed from dataset)
- Chef (React): `useState`, `useRef`, `useEffect`
- Sous chef (D3): `function draw()`

</Notes>

---

# Take-out Box

<ul style={{ fontSize: "2em" }}>
  <Appear>
    <li>
      🙊 Let the ingredients speak, don't speak
      for them{" "}
    </li>
    <li>
      👩‍🍳 Don't have too many cooks in the kitchen{" "}
    </li>
    <li>🍳 Cooking isn't baking</li>
  </Appear>
</ul>

<Notes>

- but to close, I wanted to leave you with a few takeaways that apply to code and cooking alike:

1. The wrong approach / the right approach to animation (wrong - what do we wanna add?) (right - what is the dish calling for?)
2. a chef and sous chef, with clear delineation of responsibilities work much better :)
3. use patterns, not exact proportions... the tools (spatula, spoon, pan) allow for creativity / make cooking more pleasant

</Notes>

---

<div
  style={{
    width: "100vw",
    height: "100vh",
    display: "flex",
    flexDirection: "column",
    justifyContent: "space-between"
  }}
>
  <div
    style={{
      display: "flex",
      alignItems: "center",
      justifyContent: "center",
      flexDirection: 'column',
      height: '80vh',
    }}
>
    <h1 style={{ textAlign: "center", fontSize: "4em" }}>
      Bon appetit! 🍽️{" "}
    </h1>
    <h2>
      @monica_woj
    </h2>
    <h2><a href={'https://www.reflectingreason.com/'} target="_blank">https://www.reflectingreason.com/</a></h2>

  </div>

  <div
    style={{
      width: "100vw",
      height: "120px",
      display: "flex",
      justifyContent: "space-between",
      alignItems: "center",
      textAlign: "right",
      borderTop: `1px solid ${colors.secondary}`,
      padding: "1em",
      color: colors.grey
    }}
  >
    <div>React Advanced London 2019</div>
    <a
      href="https://www.reflectingreason.com/"
      target="\_blank"
      className="aboutMeLink"
    >
      <div style={{ height: "100%", display: "flex", alignItems: "center" }}>
        <div>@monica_woj</div>
        <div
          style={{
            width: "60px",
            height: "60px",
            backgroundSize: "contain",
            backgroundImage: `url(${require("file-loader!./images/reflecting-reason-logo.svg")})`,
            backgroundPosition: "center",
            backgroundRepeat: "no-repeat"
          }}
        />
      </div>
    </a>
  </div>
</div>

---

# Resources

D3:

- https://github.com/d3/
- https://observablehq.com/@d3/d3-scalepoint

Additional takes on integrating D3 and React:

- https://medium.com/@stopyransky/react-hooks-and-d3-39be1d900fb
- https://engineering.billymob.com/integrating-d3-with-react-memo-20e5999e2053
- https://swizec.com/blog/easy-d3-blackbox-components-react-hooks/swizec/8689

Presentation deck:

- https://github.com/jxnblk/mdx-deck
